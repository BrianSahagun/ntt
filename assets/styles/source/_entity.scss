.entity---cr {
    display: grid;
    grid-template:
        'start'
        'header'
        'main' 1fr
        'footer'
        'end';
    min-height: 100vh;
}

.entity-start {
    grid-area: start;
}

.entity-header {
    grid-area: header;
}

.entity-main {
    grid-area: main;
    height: 100%;
}
.entity-footer {
    grid-area: footer;
}

.entity-end {
    grid-area: end;
}

//--------------------------------------------------------------
// View Info
//--------------------------------------------------------------

.view-name {

    @include m-x-gutter;
    @include m-y-gutter;

    a {
        @extend %aa;
    }

    .post-view & {
        @extend %vh;
    }

}

//--------------------------------------------------------------
// Entity Heading
//--------------------------------------------------------------

.entity-heading---cr {
    @extend %entity-header;
    display: grid;
    grid-template:
        'a1 b1'
        'a2 b2'
        / auto 1fr;
    @include m-x-gutter;
}

.entity-primary-name {
    grid-area: b1;
    align-self: center;
    grid-row: b1 / -1;
    margin-top: 0;
    margin-bottom: 0;
    font-weight: normal;
    font-size: 1.125rem;

    .entity-description--populated & {
        grid-row: auto;
        align-self: end;
    }
}

.entity-primary-description {
    grid-area: b2;
    align-self: start;
    font-size: .75rem;
}

.entity-primary-logo {
    grid-row: a1/-1;
    align-self: center;
    margin-right: .5rem;
    line-height: 0;

    a {
        @extend %aa;
        max-width: 3rem;
    }

    .entity-name-description--disabled & {
        margin-right: 0;
    }
}

.entity-name-description--disabled {
    
    .entity-primary-name,
    .entity-primary-description {
        @extend %vh;
    }
}

//--------------------------------------------------------------
// Header with Features
//--------------------------------------------------------------

.entity-header---cr {
    display: grid;
    grid-template:
        'a1 b1 c1'
        'a2 . .'
        'a3 . .'
        / auto 1fr auto;

    .ntt-primary-search-f5e--on & {
        grid-template-columns: auto auto 1fr;
    }
}

.entity-heading {
    grid-area: b1;
    align-self: center;
}

.entity-primary-axns {
    grid-area: c1;
    align-self: center;
}

.entity-primary-axns---cr {
    justify-content: flex-end;
}

.primary-search-f5e {
    flex: 1 100%;
}

.entity-primary-nav {
    grid-area: a2;
    grid-column: a2 / -1;
    align-self: center;
}

.entity-primary-nav---cr {
    flex-wrap: wrap;
}

.entity-header-aside {
    grid-area: a1;
    align-self: center;
}

.entity-banner {
    grid-area: a3;
    grid-column: a3 / -1;
    align-self: center;
}

//--------------------------------------------------------------
// Entity Secondary Info
//--------------------------------------------------------------

.entity-secondary-info {
    color: gray;
    font-size: .75em;

    a {
        color: gray;
    }
}

.entity-secondary-info---cr {
    padding: $m-gutter;
}

//--------------------------------------------------------------
// With Features
//--------------------------------------------------------------

.ntt-overflow-axns-f5e {
    
    .entity-primary-axns---cr {
        @extend %entity-header;
    }
}

.ntt-primary-menu-f5e {

    .entity-heading---cr {
        padding-left: 0;
    }
    
    .entity-header-aside---cr {
        @extend %entity-header;
    }
}

.ntt-primary-search-f5e--on {

    .entity-primary-axns {
        grid-column: b1 / -1;
    }

    .entity-heading---cr {
        @include x-padding();
    }
    
    .entity-heading {
        visibility: hidden;
    }
}

.entity-heading---cr {

    .ntt-primary-search-f5e--off &,
    .ntt-overflow-axns-f5e--off & {
        padding-right: 0;
    }

    .entity-name-description--disabled & {
        grid-template-columns: 1fr auto;
    }
}